<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    <title>GLEAM Project Forecasts</title>
  </head>

  <body>
    <div id="uc-emergency">
        <div style="display: block;" class="alert alert-warning-banner text-center" role="alert">
            <div class="container no-gutter">
                <div class="row">
                    <div class="col-xs-12 col-md-3 col-lg-2">
                        <strong>COVID-19 Updates</strong>
                    </div>
                    <div class="col-xs-12 col-md-7 col-lg-8"><p>Read the fall 2020 plan for classroom operations, testing, and prevention.</p></div>
                    <div class="col-xs-12 col-md-2"><a href="https://returntolearn.ucsd.edu/return-to-campus/fall-2020-plan/index.html" class="alert-link text-right text-link small no-hover">View Details</a></div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Header -->
    <div class="row no-gutters" style="background-color:#182B49">
        <div class="col-sm-6 col-xs-12">
            <div style="background-color:#182B49" class="page-header">
                <img style="width:auto;height:85px; padding: 10px 10px 10px 10px;" src="logos/UCSanDiego_Halicioglu_White.png" alt="HDSI Logo in White">
            </div> 
        </div>
        <div class="col-sm-6 col-xs-12 ">
            <div style="background-color:#182B49" class="page-header text-right" id="header-gleam">
                <img style="width:auto;height:85px; padding: 10px 10px 10px 10px;" src="logos/DeepGleam-logo-white.png" alt="DeepGLEAM Logo in White">
            </div> 
        </div>
    </div>

    <br />

    <!-- Main Content -->
    <div class="container-fluid">
        <div class="row">
            <div class="col d-flex justify-content-center text-center">
                <h1>DeepGLEAM Project Forecasts</h1>
            </div>
        </div>
        <div class="row">
            <div class="col d-flex justify-content-center text-center">
                <h3>View the data and prediction for each state by clicking on the corresponding state</h3>
            </div>
        </div>
        <div class="row">
            <div class="col d-flex justify-content-center text-center">
                <p>Updated: 10/28/20</p>
            </div>
        </div>

        <br />
        

        <div class="row no-gutters ">
            <!-- Buttons-->
            <div id="buttons-sidebar-top" class="col-xl-2 col-lg-12 text-center">
                <div class="justify-content-center">
                    <h4 style="margin-top: 3%;">Deaths</h4>
                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                        <label class="btn btn-primary active">
                            <input type="radio" name="cum-deaths" id="cum-deaths" autocomplete="off" onclick="updateGraphs(0);" checked>Total</label>
                        <label class="btn btn-primary">
                            <input type="radio" name="inc-deaths" id="inc-deaths" autocomplete="off" onclick="updateGraphs(1);">New Weekly</label>
                    </div>
                </div>

                <h4 style="margin-top: 3%;">Prediction in Weeks</h4>
                <div class="btn-group btn-group-toggle" data-toggle="buttons">
                    <label class="btn btn-primary active">
                        <input type="radio" name="week1" id="week1" autocomplete="off" onclick="updateUSMapWeekDisplay(1);" checked> 1
                    </label>
                    <label class="btn btn-primary">
                        <input type="radio" name="week2" id="week2" autocomplete="off" onclick="updateUSMapWeekDisplay(2);"> 2
                    </label>
                    <label class="btn btn-primary">
                        <input type="radio" name="week3" id="week3" autocomplete="off" onclick="updateUSMapWeekDisplay(3);"> 3
                    </label>
                    <label class="btn btn-primary">
                        <input type="radio" name="week4" id="week4" autocomplete="off" onclick="updateUSMapWeekDisplay(4);"> 4
                      </label>
                  </div>

            </div>
            <div class="col-xl-8 col-lg-12">
                <!-- US Map Chart lives here -->
                <div id="map" style="align:center; width: 100%;"></div>
            </div>
        </div>

        <br /><hr>

        <div class="row no-gutters">
            <div id="buttons-sidebar-bottom" class="col-xl-2 col-lg-12 text-center">
                <div class="justify-content-center">
                    <h4>Forecast Type</h4>
                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                        <label class="btn btn-primary active" id="states-selection-label">
                            <input type="radio" name="states-selection" id="states-selection" autocomplete="off" onclick="selectUSA(0);" checked>States</label>
                        <label class="btn btn-primary" id="national-selection-label">
                            <input type="radio" name="national-selection" id="national-selection" autocomplete="off" onclick="selectUSA(1);">National</label>
                    </div>
                    <h4 style="align-content: center; text-align: center;">Quantile Range</h4>
                    <div style="align-content: center; text-align: center;" class="slidecontainer">
                        <input type="range" min="0.65" max="1.05" value="0.95" step="0.05" class="slider" id="myRange">
                        <p>Upper Quantile: <span id="valueDisplay"></span></p>
                    </div>
                </div>
            </div>
            <div class="col-xl-10 col-lg-12">
                <!-- Daily Chart will live here -->
                <div id="graph" style="float:left; width: 80%;"></div>
            </div>
        </div>

        <div class="row">
            <div id="footer-padder" class="col-lg-1 col-md-1"><!-- Filler Col Space on the side--></div>
            <div id="about-section" class="col-lg-10 col-md-12">
                <div style="text-align: justify; padding: 25px 100px 25px 100px; text-justify: newspaper;">
                    <h3 style="text-align: center;">ABOUT</h3>
                    <p>This forecasting model combines the signal of a discrete stochastic epidemic computational model <a href="https://covid19.gleamproject.org/">GLEAM</a> (Global Epidemic and Mobility Model) with a <a href="https://openreview.net/pdf?id=SJiHXGWAZ">deep learning spatiotemporal forecasting framework</a> to further improve predictions to study the spatiotemporal COVID-19 spread.  The hybrid model leverages rich real-world data about COVID-19: when a person has been infected; where they have traveled; death records; travel and re-opening restrictions from all 50 states.  DeepGLEAM is a part of the national ensemble forecast at the <a href="https://www.cdc.gov/coronavirus/2019-ncov/covid-data/forecasting-us.html">CDC</a> (Centers for Disease Control).  
                        Projections will be regularly updated as new data and information about mitigation policies become available. Sensitivity analysis on the basic parameters is routinely performed along with the baseline projections considered. In order to calculate the number of deaths the model uses estimates of COVID-19 severity from available data
                        [<a href="https://www.thelancet.com/journals/laninf/article/PIIS1473-3099(20)30243-7/fulltext">1</a>, 
                        <a href="https://www.nature.com/articles/s41591-020-0822-7">2</a>].</p>
                        <p><small><strong>Disclaimer: </strong>There are large uncertainties around the
                            transmission of COVID-19, the effectiveness of different policies and the
                            extent to which the population is compliant to social distancing measures. The
                            presented material is based on modeling scenario assumptions informed by
                            current knowledge of the disease and subject to change as more data
                            become available. Future decisions on when and for how long to relax
                            mitigation policies will be informed by ongoing surveillance. Additional
                            modeling and data studies are required to assess the level and effectiveness
                            of additional non-pharmaceuticals interventions required to lift current social
                            distancing measures.
                        </small></p>
                </div>
            </div>
            
        </div>   
        <br />

    </div>

    <div id="footer-page" style="background-color: #182B49; text-align: center; display: block;">
        <h6 style="color: white; padding-top: 20px;">IN COLLABORATION WITH</h6><br />
        <a href="https://datascience.ucsd.edu/" target="_blank"><img class="logo-collab" src="logos/UCSanDiego_Halicioglu_White.png" alt="HDSI Logo in White"></a> 
        <a href="https://www.networkscienceinstitute.org" target="_blank"><img class="logo-collab" src="logos/NU_NetworkScienceInstitute-white.png" alt="Northeastern U logo"></a>
        <a href="https://jacobsschool.ucsd.edu/" target="_blank"><img class="logo-collab" src="logos/UCSDLogo_JSOE-ComputerSciEng_White.png" alt="JSOE Logo in White"></a>
        <a href="http://mobs-lab.org/" target="_blank"><img class="logo-collab" src="logos/mobs-lab-logo-full_white.png" alt="Mobs Lab Logo"></a>
        <ul class="navbar-nav mb-auto mt-0 mx-auto">
            <li class="nav-item">
                <a style="color: rgba(255,255,255,.5)" href="https://www.cdc.gov/coronavirus/2019-ncov/covid-data/forecasting-us-previous.html" target="_blank">CDC</a>
            </li>
            <li class="nav-item">
                <a style="color: rgba(255,255,255,.5)" href="https://datascience.ucsd.edu/uc-san-diego-deepgleam-team/" target="_blank">UCSD-NEU Team</a>
            </li>
        </ul>
        <br>
        <ul class="navbar-nav mb-auto mt-0 mx-auto">
            <li class="nav-item">
                <p class=" py-0" style="color: rgba(255,255,255,.5)">&#169;<small> 2020 REGENTS OF THE UNIVERSITY OF CALIFORNIA</small></p>
            </li>
        </ul>
    </div>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script>
        var slider = document.getElementById("myRange");
        var quantileDisplay = document.getElementById("valueDisplay");
        quantileDisplay.innerHTML = slider.value; // Display the default slider value

        // Update the current slider value (each time you drag the slider handle)
        slider.oninput = function() {
            let val;
            if (this.value == 1) {
                val = "0.975";
            } else if (this.value == 1.05) {
                val = "0.99";
            } else {
                val = this.value
            }
            quantileDisplay.innerHTML = val;
            updateQuantile(val);
        }
    </script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    <script src="https://code.highcharts.com/maps/highmaps.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/maps/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/maps/modules/offline-exporting.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/us/us-all.js"></script>

    <script type="text/javascript" src="js/render-maps.js"></script>
    <script type="text/javascript" src="js/render-maps.update-graphs.js"></script>
    <script type="text/javascript" src="js/render-maps.load-data.js"></script>
    <!--script type="text/javascript" src="js/sidebar.js"></script-->

  </body>
</html>
